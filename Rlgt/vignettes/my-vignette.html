<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Wibowo" />

<meta name="date" content="2018-09-23" />

<title>Overview of LGT&amp;SGT Model</title>






<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Overview of LGT&amp;SGT Model</h1>
<h4 class="author"><em>Wibowo</em></h4>
<h4 class="date"><em>2018-09-23</em></h4>



<p>This vignette will provide an overview of the theoretical construction of LGT and SGT family models. A more complete description will be provided in the accompanying research paper which is planned to be released in 2019.The idea of the construction of LGT &amp; SGT models originally came from Smyl in 2016 and has evolved over time in the collaboration process of writing this package.</p>
<p>The “LGT” model stands for Local-Global Trend and is devised to forecast on non-seasonal time series data. Meanwhile, the “SGT” model stands for Seasonal-Global Trend and is devised to complement the former model on seasonal time series data. The combination of these models were tested on the 3003 time-series data, available from the M3-competition dataset, and has been shown to outperform all of the models originally participating in the competition by a significant margin.</p>
<p>| Model | Non-seasonal | Seasonal | Aggregate | |—————|sMAPE |MASE |sMAPE |MASE |sMAPE |MASE | |===============|===============|===============|===============| |Dampen-M3 |14.6508|2.4689 |12.7710|2.0686 |12.3827|2.1778 | |Best M3 Model | | | | |12.76 |1.39 | |Dampen-fpp2 |14.3203|2.3702 |11.6795|1.3588 |12.3997|1.6346 | |LGT&amp;SGT |12.6732|2.0280 |12.0450|1.1265 |12.2163|1.3724 | *note: The details of the benchmark models are as follow: 1. Dampen-M3: The implementation of Dampen algtortihm as it appears in original M3 competition. 2. Best M3 model: In this case, the best model is Theta (cite paper) 3. Dampen-fpp2 : An implementation of ETS model from fpp2, a popular forecasting package available from CRAN (cite Hyndmann) The explanations of sMAPE and MASE can be found in ….</p>
<p>The LGT&amp;SGT models are inherently Bayesian ETS (Exponential Smoothing) models which are implemented with the aid of RStan package. As bayesian models, the LGT&amp;SGT models will require specification of prior distributions (with default priors provided) and might also take extended running time in some unusual cases. Generally, the running time should be acceptable if the models are run with the default prior and sampling algorithm. In unusual circumstances, some modifications on the prior distributions and Bayesian sampling algorithm might be required to speed up the running time of the models.</p>
<p>As a caveat, the current version of the models only support time series data with entirely positive data values. Many time series data fall into this category, while for others, simple transformations can be performed to obtain the required positive time-series data. Therefore, the constraint should not be too restrictive for most general applications.</p>
<p>The following sections will briefly describe the mathematical constructions and the rationale for these models.</p>
<div id="lgtlocal-and-global-trend" class="section level2">
<h2>LGT(Local and Global Trend)</h2>
<div id="subsectionmodel-equations" class="section level3">
<h3>subsection{Model Equations}{</h3>
<p>In terms of mathematical notation, the model can be fully represented as follow:</p>
<p><span class="math display">\[y_{t+1} \sim Student (\nu,y_{t+1}, \sigma _{t+1}) \quad (eq.1.1)\]</span> <span class="math display">\[\widehat{y}_{t+1}=l_{t}+ \gamma l_{t}^{ \rho }+ \lambda b_{t}  \quad  (eq. 1.2)\]</span> <span class="math display">\[l_{t+1}= \alpha y_{t+1}+ \left( 1- \alpha  \right)  \left(  l_{t} \right) \quad (eq. 1.3)\]</span> <span class="math display">\[b_{t+1}= \beta  \left( l_{t+1}-l_{t} \right) + \left( 1- \beta  \right) b_{t}  \quad  (eq. 1.4)\]</span> <span class="math display">\[\widehat{\sigma}_{t+1}= \sigma l_{t}^{ \tau}+ \xi   \quad  (eq. 1.5)\]</span></p>
</div>
<div id="notations" class="section level3">
<h3>Notations</h3>
<p><em><span class="math inline">\(y_{t}\)</span> :value of the dependent variable of interest at time t </em><span class="math inline">\(\widehat{y}_{t+1}\)</span> :forecasted value of y at time t+1 given information up to time t <em><span class="math inline">\(\widehat{\sigma}_{t+1}\)</span> :forecasted deviation at time t+1 given information up to time t </em><span class="math inline">\(l_{t}\)</span> :level at time t *<span class="math inline">\(b_{t}\)</span> :local trend at time t</p>
</div>
<div id="parameters" class="section level3">
<h3>Parameters</h3>
<p><em><span class="math inline">\(\nu\)</span> :degrees of freedom of the t-distribution </em><span class="math inline">\(\gamma\)</span> :coefficient of the global trend <em><span class="math inline">\(\rho\)</span> :power coefficient of the global trend </em><span class="math inline">\(\lambda\)</span> :damping coefficient of the local trend <em><span class="math inline">\(\alpha\)</span> :smoothing parameter for the level term </em><span class="math inline">\(\beta\)</span> :smoothing parameter for the local trend term <em><span class="math inline">\(\sigma\)</span> :coefficient of the heteroscedastic standard deviation </em><span class="math inline">\(\tau\)</span> :power coefficient of the heteroscedastic standard deviation *<span class="math inline">\(\xi\)</span> :base or minimum value of the standard deviation</p>
</div>
<div id="rationale-for-mathematical-equations" class="section level3">
<h3>Rationale for Mathematical Equations</h3>
<p>The LGT model is devised as an extension to the classical ETS models by incorporating the following additional features:</p>
<ol style="list-style-type: decimal">
<li>Heteroscedastic and non-normal error term</li>
<li>Addition of global trend term</li>
</ol>
<p>The inclusion of these features on each individual equation of the model is discussed below.</p>
<div id="eq.-1.1.-students-t-error-distribution" class="section level4">
<h4>Eq. 1.1. Student’s-t Error Distribution}</h4>
<p>The data value follows Student’s t-distribution around the expected value of the data with a time-varying standard deviation. The Student-t distribution can be seen as a generalisation of the normal distribution to allow for a fat-tailed error distribution.</p>
</div>
<div id="eq.-1.5.-heteroscedastic-error" class="section level4">
<h4>Eq. 1.5. Heteroscedastic Error</h4>
<p>In addition to accounting for possible fat-tailed error distribution, the error function also allows the variance of the error to change as the level changes. This is achieved by allowing the scale (deviation) parameter of the assumed Student’s t-distribution to vary in proportion to the current level of the time series. This will account for common situations, where the magnitude of the error will increase as the value of the data points increases.Moreover, this relationship does not necessarily be linear as the parameter <span class="math inline">\(\tau\)</span> controls the growth of the variance of the error term.</p>
<p>In practice, the values taken by the parameter is often limited between 0 and 1. A value of 0 corresponds to constant variance, i.e. homoscedasticity, whereas a value of 1 approximates the behaviour of the multiplicative error ETS model. The value between 0 and 1 will describe an error function which grows in relation to the increase in data value, but at a slower pace than linear growth.</p>
</div>
<div id="eq.-1.2-one-step-ahead-prediction-equation" class="section level4">
<h4>Eq. 1.2: One-step Ahead Prediction Equation</h4>
<p>There are three distinct terms that constitute this Bayesian ETS model: a level term, and a couple of different trends. The first term <span class="math inline">\(l_{t}\)</span> is the level term, while the second term <span class="math inline">\(l_{t}^{ \rho }\)</span> refers to the global trend which increases with the level of the dependent variables <span class="math inline">\(l_{t}\)</span> at a constant rate <span class="math inline">\(\gamma\)</span> . Similar to the heteroscedasticity in eq. 1.5, the change in the value of the dependant variable does not necessarily grow linearly with respect to the level of the variable. This relationship can be tuned in by the use of exponential parameter <span class="math inline">\(\rho\)</span>. The interpretation of this global trend is also analogous to the time-varying error term, i.e. the value of $ 0&lt; &lt;1$ indicates a global trend which grows faster than the additive models but slower than the multiplicative model. The last term of the right-hand side of eq.1.2. refers to the usual local dampen trend in ETS model. However, there is an addition of dampen parameter <span class="math inline">\(\lambda\)</span>, constrained such that <span class="math inline">\(-1&lt;\lambda&lt;1\)</span>, to reduce the strength of the local trend model.</p>
</div>
<div id="eq.-1.3-level-adjustment-equation" class="section level4">
<h4>Eq. 1.3: Level Adjustment Equation</h4>
<p>This equation is defined according to the classical linear trend ETS model. The level at time t, <span class="math inline">\(l_{t}\)</span>, is calculated as a weighted average of the current observation <span class="math inline">\(y_{t}\)</span> and the previous level at lag 1, <span class="math inline">\(l_{t-1}\)</span> with smoothing parameter <span class="math inline">\(\alpha\)</span>.</p>
</div>
<div id="eq.-1.4-local-trend-adjustment-equation" class="section level4">
<h4>Eq. 1.4: Local Trend Adjustment Equation</h4>
<p>Similarly, the evolution of the local trend <span class="math inline">\(b_{t}\)</span> is identically defined to the linear trend method. The local trend at time t <span class="math inline">\(b_{t}\)</span> is obtained as a weighted average of the difference in level terms <span class="math inline">\((l_{t}-l_{t-1})\)</span><br />
and the trend at time t-1 <span class="math inline">\(b_{t-1}\)</span> with the smoothing parameter <span class="math inline">\(\beta\)</span>.</p>
</div>
</div>
</div>
<div id="sgt-seasonal-global-trend" class="section level2">
<h2>SGT (Seasonal, Global Trend)</h2>
<p>SGT model was designed as a seasonal counterpart to the LGT model. Similar to LGT, this model is devised to allow for global trend term and heteroscedastic error.</p>
<div id="model-equations" class="section level3">
<h3>Model Equations</h3>
<p><span class="math display">\[y_{t+1} \sim Student \left( \nu,\widehat{y}_{t+1}, \sigma _{t+1} \right)  \quad (eq. 2.1) \]</span> <span class="math display">\[\widehat{y}_{t+1}= \left( l_{t}+ \gamma l_{t}^{ \rho } \right)  s_{t+1} \quad (eq. 2.2)\]</span> <span class="math display">\[l_{t+1}= \alpha  \frac{y_{t+1}}{s_{t+1}}+ \left( 1- \alpha  \right)  \left( l_{t} \right) \quad (eq. 2.3)\]</span> <span class="math display">\[s_{t+m+1}= \zeta  \frac{y_{t+1}}{l_{t+1}}+ \left( 1- \zeta  \right) s_{t+1}  \quad (eq. 2.4)\]</span> <span class="math display">\[\widehat{\sigma}_{t+1}= \sigma \widehat{y}_{t+1}^{ \tau}+ \xi \quad (eq. 2.5)\]</span></p>
</div>
<div id="additional-notations" class="section level3">
<h3>Additional Notations</h3>
<p><em><span class="math inline">\(s_{t}\)</span> : seasonality factor at time t </em><span class="math inline">\(m\)</span> : number of seasons in the data (e.g. 12 for monthly, 4 for quarterly)</p>
</div>
<div id="additional-parameters" class="section level3">
<h3>Additional Parameters</h3>
<p>*<span class="math inline">\(\zeta\)</span> : smoothing parameter for the seasonality term</p>
</div>
<div id="rationale-for-mathematical-equations-1" class="section level3">
<h3>Rationale for Mathematical Equations</h3>
<p>Most of the components of the model is similar to the non-seasonal LGT model above. A couple of modifications have been applied to this model in comparison to LGT:</p>
<ol style="list-style-type: decimal">
<li>Removal of local dampen trend</li>
<li>Addition of multiplicative seasonality term</li>
</ol>
<p>The mathematical equations have also been adjusted accordingly:</p>
<div id="eq.-2.2.one-step-ahead-prediction-equation" class="section level4">
<h4>Eq. 2.2.One-step Ahead Prediction Equation</h4>
<p>Comparing eq. 2.2 with eq. 1.2, it is apparent that the local trend term<br />
<span class="math inline">\(\lambda b_{t}\)</span> has been removed from the SGT model. Consequently, the equation governing the evolution of local trend over time (eq. 2.4) is no longer needed. Based on empirical evidence, the role of the local trend was found to be insignificant for the purpose of forecasting seasonal data in M3-competition.</p>
<p>Moreover, there is also an addition of multiplicative seasonality term modelled after Holt-Winters seasonality term. In this case, the data value is decomposed into level value and seasonal value (i.e. <span class="math inline">\(y_{t}=l_{t} s_{t}\)</span>). Thus, it follows that the one-step prediction value of { y_{t+1} } (eq. 2.2) is obtained by multiplying the predicted level term<br />
<span class="math inline">\(l_{t}+\gamma l_{t}^{ \rho }}\)</span> with the seasonal term <span class="math inline">\(s_{t+1}\)</span>.</p>
</div>
<div id="eq.-2.4.seasonal-factors-adjustment-equation" class="section level4">
<h4>Eq. 2.4.Seasonal Factors Adjustment Equation</h4>
<p>The evolution of the seasonal component in eq. 2.4. is also based on standard ETS model, i.e. a weighted average of predicted seasonal level <span class="math inline">\(\left( \frac{y_{t}}{l_{t}} \right)\)</span> and previous seasonal value from the past observations <span class="math inline">\(s_{t}\)</span> .</p>
</div>
<div id="eq.-2.3.level-adjustment-equation" class="section level4">
<h4>Eq. 2.3.Level Adjustment Equation</h4>
<p>The evolution of level term in eq. 2.3 is defined analogously to the level term in LGT model. The level term of time t <span class="math inline">\(\left( l_{t} \right)\)</span> is calculated as a weighted average of predicted current level value at time t<br />
<span class="math inline">\(\frac{y_{t}}{s_{t}}\)</span> and the previous estimate of the level at time t given information up to t-1, i.e. <span class="math inline">\(l_{t-1}+ \gamma l_{t-1}^{ \rho }\)</span></p>
</div>
<div id="eq.-2.5.heteroscedastic-error" class="section level4">
<h4>Eq. 2.5.Heteroscedastic Error</h4>
<p>There is also a straightforward modification to the error term in SGT eq. 2.5 due to the introduction of seasonal factors. Compared to eq. 1.5, the error termin SGT is allowed to vary in proportion to <span class="math inline">\(y\)</span> instead of <span class="math inline">\(l_{t}\)</span>. The reason for that is because the error term is likely to become larger during the peak seasons (i.e. seasons with high seasonality coefficient).</p>
<p>Hence, it is intuitive to link the dispersion of the error to the predicted value of the dependent variable. Note that in the case of LGT, the predicted value of y is also a function of the previous level <span class="math inline">\(l_{t-1}\)</span> and thus, the error term can be defined in terms of <span class="math inline">\(l_{t-1}\)</span> instead.</p>
</div>
</div>
</div>
<div id="s2gt-double-seasonal-global-trend" class="section level2">
<h2>S2GT (Double Seasonal, Global Trend):</h2>
<p>S2GT is designed as an extension to SGT in time-series data which exhibit two seasonality patterns. The additional second seasonality factor generalises the model to capture a number of seasonalities that exist in the data. A classic example of this type of data is the hourly electricity consumption data which are affected by the time of the day as well as the day in the week. The mathematical modelling is based on the classical Double Seasonal Exponential Smoothing model by Taylor (2003).</p>
<div id="model-equations-1" class="section level3">
<h3>Model Equations</h3>
<p><span class="math display">\[y_{t+1} \sim Student \left( v,y_{t+1}, \sigma _{t+1} \right) \quad (eq. 3.1)\]</span> <span class="math display">\[y_{t+1}=\left( l_{t}+ \gamma l_{t}^{ \rho } \right) s_{t+1}w_{t+1} \quad (eq. 3.2)\]</span></p>
<p><span class="math display">\[l_{t}= \alpha  \frac{y_{t}}{s_{t}w_{t}}+ \left( 1- \alpha  \right) \left( l_{t-1} \right)  \quad (eq. 3.3)\]</span> <span class="math display">\[s_{t+m}= \zeta  \frac{y_{t}}{l_{t}w_{t}}+ \left( 1- \zeta  \right) s_{t} \quad (eq. 3.4)\]</span> <span class="math display">\[w_{t+d}= \delta  \frac{y_{t}}{l_{t}s_{t}}+ \left( 1- \delta  \right) w_{t} \quad (eq. 3.5)\]</span> <span class="math display">\[\sigma _{t+1}= \sigma y_{t+1}^{ \tau}+ \varsigma  \quad (eq. 3.6)\]</span></p>
</div>
<div id="additional-notations-1" class="section level3">
<h3>Additional Notations}</h3>
<p><em><span class="math inline">\(w_{t}\)</span> :second seasonality factor prevailing at time t </em><span class="math inline">\(d\)</span> :number of (second) seasons in a complete period (e.g. 12 for monthly, 4 for quarterly)</p>
</div>
<div id="additional-parameters-1" class="section level3">
<h3>Additional Parameters</h3>
<p><span class="math inline">\(\delta\)</span> : smoothing parameters for the second seasonality factors</p>
</div>
<div id="rationale-for-mathematical-equations-2" class="section level3">
<h3>Rationale for Mathematical Equations</h3>
<p>There is a minor difference in this model compared to the SGT model:</p>
<ol style="list-style-type: decimal">
<li>Addition of second seasonality factors</li>
</ol>
<p>The mathematical equations have been adjusted as follow:</p>
<div id="eq.-3.2.-one-step-ahead-prediction-equation" class="section level4">
<h4>Eq. 3.2. One-step Ahead Prediction Equation}</h4>
<p>Comparing eq. 2.2 with eq. 2.2, there is an addition of the second seasonality factor in multiplicative form. Thus, both seasonality factors will affect the proportionality between the expected value of the observed data and the level.</p>
</div>
<div id="equation-3.3.-level-adjustment-equation" class="section level4">
<h4>Equation 3.3. Level Adjustment Equation</h4>
<p>The evolution of level term in eq. 3.3 is largely identical to eq.2.3. The mere difference is that since the observed value is now seen as a product of the level terms with both seasonality factors, the predicted current level value at time t is calculated as <span class="math inline">\(\frac{y_{t}}{l_{t}s_{t}}\)</span>. The weighted average in the right-hand side of the equation is then adjusted accordingly.</p>
</div>
<div id="eq.-3.4.-first-seasonal-factors-adjustment-equation" class="section level4">
<h4>Eq. 3.4. First Seasonal Factors Adjustment Equation</h4>
<p>The evolution of the seasonal component in eq. 3.4. is also similar to eq. 2.4. Again, the predicted seasonal level based on current observation has been changed to <span class="math inline">\(\frac{y_{t}}{l_{t}w_{t}}\)</span> to undo the effect of the other seasonality factor on the observed data value.</p>
</div>
<div id="eq.-3.5.-second-seasonal-factors-adjustment-equation" class="section level4">
<h4>Eq. 3.5. Second Seasonal Factors Adjustment Equation</h4>
<p>The adjustment equation for the second seasonality term is identical to eq. 3.4. with slight changes in the parameters’ notations and values.</p>
</div>
</div>
</div>
<div id="prior-distributions-for-all-rlgt-models" class="section level2">
<h2>Prior Distributions for all Rlgt models:</h2>
<p>The default prior distributions of the parameters are given below:</p>
<p><em><span class="math inline">\(\sigma,\gamma,\varsigma\)</span> :Cauchy distribution with 0 location value and the scale parameter equals to 1/200 of the maximum value of y </em><span class="math inline">\(b\)</span> :Normally distributed with a mean of 0 and standard deviation of 1/200 of the maximum value of y. <em><span class="math inline">\(\phi\)</span> :Uniformly distributed between -1 and 1 </em><span class="math inline">\(\alpha,\beta,\zeta, \delta\)</span>: Uniform between 0 and 1 <em><span class="math inline">\(s_{t}, w_{t}\)</span> :(i.i.d) normal with a mean of 1 and standard deviation of 0.3 before being normalised </em><span class="math inline">\(\rho\)</span> : Uniform between -0.5 and 1.0 <em><span class="math inline">\(v\)</span> :Uniformly distributed between 2 and 20 </em><span class="math inline">\(\tau\)</span> :Beta distribution with shape parameters <span class="math inline">\(\alpha=1;\beta =1\)</span></p>
<p>Note that some of these prior distributions can be adjusted by the users in the <code>rlgt</code> function.</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
